<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Societies</title>
</head>
<body>
    <h1>Societies</h1>

    <h2>Add New Society</h2>
    <form action="/add-society" method="POST">
        <input type="text" name="society_name" placeholder="Society Name" required><br><br>
        <input type="date" name="start_date" required><br><br>
        <input type="date" name="end_date" required><br><br>
        <input type="number" step="0.01" name="rent_per_screen" placeholder="Rent per Screen" required><br><br>
        <input type="number" name="no_of_screens" placeholder="No. of Screens" required><br><br>
        <input type="text" name="city" placeholder="City" required><br><br>
        <input type="text" name="chairman_name" placeholder="Chairman Name" required><br><br>
        <input type="text" name="chairman_contact" placeholder="Chairman Contact" required><br><br>
        <input type="text" name="secretary_name" placeholder="Secretary Name" required><br><br>
        <input type="text" name="secretary_contact" placeholder="Secretary Contact" required><br><br>
        <textarea name="remark" placeholder="Remarks"></textarea><br><br>
        <button type="submit">Add Society</button>
    </form>

    <h2>Societies List</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Society Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Rent per Screen</th>
                <th>No. of Screens</th>
                <th>Total Rent</th>
                <th>City</th>
                <th>Chairman</th>
                <th>Secretary</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% societies.forEach(society => { %>
                <tr>
                    <td><%= society.society_name %></td>
                    <td><%= society.start_date %></td>
                    <td><%= society.end_date %></td>
                    <td><%= society.rent_per_screen %></td>
                    <td><%= society.no_of_screens %></td>
                    <td><%= society.total_rent %></td>
                    <td><%= society.city %></td>
                    <td><%= society.chairman_name %></td>
                    <td><%= society.secretary_name %></td>
                    <td>
                        <a href="/edit/<%= society.id %>">Edit</a>
                    </td>
                </tr>
            <% }); %>
        </tbody>
    </table>

    <% if (society) { %>
        <h2>Edit Society</h2>
        <form action="/update-society" method="POST">
            <input type="hidden" name="id" value="<%= society.id %>">
            <input type="text" name="society_name" value="<%= society.society_name %>" required><br><br>
            <input type="date" name="start_date" value="<%= society.start_date %>" required><br><br>
            <input type="date" name="end_date" value="<%= society.end_date %>" required><br><br>
            <input type="number" step="0.01" name="rent_per_screen" value="<%= society.rent_per_screen %>" required><br><br>
            <input type="number" name="no_of_screens" value="<%= society.no_of_screens %>" required><br><br>
            <input type="text" name="city" value="<%= society.city %>" required><br><br>
            <input type="text" name="chairman_name" value="<%= society.chairman_name %>" required><br><br>
            <input type="text" name="chairman_contact" value="<%= society.chairman_contact %>" required><br><br>
            <input type="text" name="secretary_name" value="<%= society.secretary_name %>" required><br><br>
            <input type="text" name="secretary_contact" value="<%= society.secretary_contact %>" required><br><br>
            <textarea name="remark"><%= society.remark %></textarea><br><br>
            <button type="submit">Update Society</button>
        </form>
    <% } %>
</body>
</html>
